<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Rain to 3D Objects</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        #root {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const CodeRainAnimation = () => {
            const [drops, setDrops] = useState([]);
            const [shapes, setShapes] = useState([]);
            
            const codeChars = ['{', '}', '(', ')', '[', ']', '<', '>', '/', '=', '+', '-', '*', ';', ':', 'function', 'const', 'let', 'if', 'return', '0', '1'];
            
            const shapeTypes = [
                { type: 'flower', gradient: 'linear-gradient(180deg, #ec4899 0%, #a3e635 50%, #fbbf24 100%)', size: 80 },
                { type: 'star', gradient: 'linear-gradient(135deg, #60a5fa 0%, #a855f7 50%, #ec4899 100%)', size: 70 },
                { type: 'pill', gradient: 'linear-gradient(90deg, #fde047 0%, #22d3ee 50%, #fb923c 100%)', size: 90 },
                { type: 'clover', gradient: 'linear-gradient(135deg, #22d3ee 0%, #3b82f6 50%, #a855f7 100%)', size: 75 }
            ];
            
            const getLandingPosition = (xPos) => {
                if (xPos < 20) return { x: 15, y: 75 };
                if (xPos < 40) return { x: 30, y: 85 };
                if (xPos < 60) return { x: 50, y: 70 };
                if (xPos < 80) return { x: 70, y: 80 };
                return { x: 85, y: 75 };
            };
            
            useEffect(() => {
                const addDrop = () => {
                    const newDrop = {
                        id: Date.now() + Math.random(),
                        x: Math.random() * 100,
                        char: codeChars[Math.floor(Math.random() * codeChars.length)],
                        speed: 2 + Math.random() * 3,
                        opacity: 0.3 + Math.random() * 0.7
                    };
                    
                    setDrops(prev => [...prev, newDrop].slice(-30));
                };
                
                const interval = setInterval(addDrop, 100);
                return () => clearInterval(interval);
            }, []);
            
            useEffect(() => {
                const moveDrops = () => {
                    setDrops(prev => {
                        const newDrops = [];
                        const newShapes = [];
                        
                        prev.forEach(drop => {
                            const newY = (drop.y || 0) + drop.speed;
                            
                            if (newY > 65 && !drop.transformed) {
                                const shape = shapeTypes[Math.floor(Math.random() * shapeTypes.length)];
                                const landingPos = getLandingPosition(drop.x);
                                
                                newShapes.push({
                                    id: drop.id,
                                    x: landingPos.x,
                                    y: landingPos.y,
                                    startX: drop.x,
                                    startY: newY,
                                    type: shape.type,
                                    gradient: shape.gradient,
                                    size: shape.size,
                                    birth: Date.now()
                                });
                            } else if (newY <= 100) {
                                newDrops.push({ ...drop, y: newY });
                            }
                        });
                        
                        if (newShapes.length > 0) {
                            setShapes(prev => [...prev, ...newShapes].slice(-15));
                        }
                        
                        return newDrops;
                    });
                    
                    setShapes(prev => prev.filter(shape => Date.now() - shape.birth < 5000));
                };
                
                const animation = setInterval(moveDrops, 50);
                return () => clearInterval(animation);
            }, []);
            
            const renderShape = (shape) => {
                const age = Date.now() - shape.birth;
                const transitionProgress = Math.min(age / 800, 1);
                
                const currentX = shape.startX + (shape.x - shape.startX) * transitionProgress;
                const currentY = shape.startY + (shape.y - shape.startY) * transitionProgress;
                
                const scale = Math.min(age / 600, 1);
                const opacity = age < 4500 ? 1 : Math.max(0, 1 - (age - 4500) / 500);
                const float = Math.sin(age / 500) * 8;
                
                const baseStyle = {
                    position: 'absolute',
                    left: `${currentX}%`,
                    top: `${currentY}%`,
                    transform: `translate(-50%, -50%) scale(${scale}) translateY(${float}px)`,
                    opacity: opacity,
                    transition: 'all 0.3s ease-out'
                };
                
                switch(shape.type) {
                    case 'flower':
                        return (
                            <div key={shape.id} style={baseStyle}>
                                <div className="relative" style={{ width: shape.size, height: shape.size }}>
                                    {[...Array(10)].map((_, i) => (
                                        <div
                                            key={i}
                                            style={{
                                                position: 'absolute',
                                                top: '50%',
                                                left: '50%',
                                                width: shape.size * 0.35,
                                                height: shape.size * 0.6,
                                                background: shape.gradient,
                                                borderRadius: '50%',
                                                transform: `translate(-50%, -50%) rotate(${i * 36}deg) translateY(-${shape.size * 0.25}px)`,
                                                transformOrigin: 'center center',
                                                filter: 'blur(1px)',
                                                boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                            }}
                                        />
                                    ))}
                                </div>
                            </div>
                        );
                    
                    case 'star':
                        return (
                            <div key={shape.id} style={baseStyle}>
                                <div className="relative" style={{ width: shape.size, height: shape.size }}>
                                    {[...Array(6)].map((_, i) => (
                                        <div
                                            key={i}
                                            style={{
                                                position: 'absolute',
                                                top: '50%',
                                                left: '50%',
                                                width: shape.size * 0.5,
                                                height: shape.size * 0.5,
                                                background: shape.gradient,
                                                borderRadius: '20%',
                                                transform: `translate(-50%, -50%) rotate(${i * 60}deg) translateY(-${shape.size * 0.3}px)`,
                                                transformOrigin: 'center center',
                                                filter: 'blur(1px)',
                                                boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                            }}
                                        />
                                    ))}
                                </div>
                            </div>
                        );
                    
                    case 'pill':
                        return (
                            <div key={shape.id} style={baseStyle}>
                                <div className="flex flex-col gap-1">
                                    <div style={{
                                        width: shape.size,
                                        height: shape.size * 0.4,
                                        background: shape.gradient,
                                        borderRadius: '999px',
                                        filter: 'blur(1px)',
                                        boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                    }} />
                                    <div style={{
                                        width: shape.size,
                                        height: shape.size * 0.4,
                                        background: shape.gradient,
                                        borderRadius: '999px',
                                        filter: 'blur(1px)',
                                        boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                    }} />
                                </div>
                            </div>
                        );
                    
                    case 'clover':
                        return (
                            <div key={shape.id} style={baseStyle}>
                                <div className="relative" style={{ width: shape.size, height: shape.size }}>
                                    <div style={{
                                        position: 'absolute',
                                        width: shape.size * 0.65,
                                        height: shape.size * 0.65,
                                        background: shape.gradient,
                                        borderRadius: '50%',
                                        top: '50%',
                                        left: '50%',
                                        transform: 'translate(-50%, -50%)',
                                        filter: 'blur(1px)',
                                        boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                    }} />
                                    {[...Array(4)].map((_, i) => (
                                        <div
                                            key={i}
                                            style={{
                                                position: 'absolute',
                                                width: shape.size * 0.45,
                                                height: shape.size * 0.45,
                                                background: shape.gradient,
                                                borderRadius: '50%',
                                                top: '50%',
                                                left: '50%',
                                                transform: `translate(-50%, -50%) rotate(${i * 90}deg) translateY(-${shape.size * 0.25}px)`,
                                                transformOrigin: 'center center',
                                                filter: 'blur(1px)',
                                                boxShadow: '0 4px 20px rgba(0,0,0,0.3)'
                                            }}
                                        />
                                    ))}
                                </div>
                            </div>
                        );
                    
                    default:
                        return null;
                }
            };
            
            return (
                <div className="w-full h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-purple-950 overflow-hidden relative">
                    {drops.map(drop => (
                        <div
                            key={drop.id}
                            className="absolute text-green-400 font-mono text-sm pointer-events-none"
                            style={{
                                left: `${drop.x}%`,
                                top: `${drop.y || 0}%`,
                                opacity: drop.opacity,
                                textShadow: '0 0 10px rgba(34, 197, 94, 0.8)',
                                transform: 'translateX(-50%)',
                                transition: 'opacity 0.3s'
                            }}
                        >
                            {drop.char}
                        </div>
                    ))}
                    
                    {shapes.map(shape => renderShape(shape))}
                    
                    <div className="absolute inset-0 pointer-events-none">
                        <div className="absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl" />
                        <div className="absolute top-1/2 right-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl" />
                        <div className="absolute bottom-1/4 left-1/2 w-64 h-64 bg-pink-500/20 rounded-full blur-3xl" />
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CodeRainAnimation />);
    </script>
</body>
</html>